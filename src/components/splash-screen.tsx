'use client';
import { useState, useEffect } from 'react';
import { createPortal } from 'react-dom';

const SPLASH_SCREEN_SHOWN_KEY = 'dducksang_splash_shown_session'; // ÏÑ∏ÏÖò Ïä§ÌÜ†Î¶¨ÏßÄ ÌÇ§

export function SplashScreen() {
  const [show, setShow] = useState(false); // Í∏∞Î≥∏Í∞íÏùÑ falseÎ°ú Î≥ÄÍ≤Ω

  useEffect(() => {
    // ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ ÏÇ¨Ïù¥ÎìúÏóêÏÑúÎßå ÏÑ∏ÏÖò Ïä§ÌÜ†Î¶¨ÏßÄÏóê Ï†ëÍ∑º
    if (typeof window !== 'undefined') {
      const hasShownThisSession = sessionStorage.getItem(
        SPLASH_SCREEN_SHOWN_KEY
      );

      if (!hasShownThisSession) {
        // Ïù¥ ÏÑ∏ÏÖòÏóêÏÑú Ïä§ÌîåÎûòÏãú Ïä§ÌÅ¨Î¶∞ÏùÑ Î≥¥Ïó¨Ï§Ä Ï†ÅÏù¥ ÏóÜÏúºÎ©¥ ÌëúÏãú
        setShow(true);
        const timer = setTimeout(() => {
          setShow(false);
          sessionStorage.setItem(SPLASH_SCREEN_SHOWN_KEY, 'true'); // Ïù¥ ÏÑ∏ÏÖòÏóêÏÑú ÌëúÏãúÌñàÏùåÏùÑ Í∏∞Î°ù
        }, 1500); // 1.5Ï¥à ÎèôÏïà ÌëúÏãú
        return () => clearTimeout(timer);
      }
    }
  }, []); // Îπà Î∞∞Ïó¥: Ïª¥Ìè¨ÎÑåÌä∏ ÎßàÏö¥Ìä∏ Ïãú Ìïú Î≤àÎßå Ïã§Ìñâ

  // SSR Î∞©ÏßÄ
  if (typeof window === 'undefined' || !show) return null;

  // üéØ Î™®Î∞îÏùº Ïª®ÌÖåÏù¥ÎÑàÎ•º Portal ÎåÄÏÉÅÏúºÎ°ú ÏÑ§Ï†ï
  const getPortalContainer = () => {
    const mobileContainer = document.getElementById('mobile-container');
    return mobileContainer || document.body; // Ìè¥Î∞±ÏúºÎ°ú body ÏÇ¨Ïö©
  };

  return createPortal(
    <div className="absolute inset-0 z-[9999] bg-red-900 flex flex-col justify-center items-center">
      {/* <Image
        src="/images/splash-logo.webp"
        width={143}
        height={192}
        priority
        alt="Îñ°ÏÉÅ Î°úÍ≥†"
      /> */}
      <svg
        width="143"
        height="193"
        viewBox="0 0 143 193"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M134.579 8.36469C135.865 9.64389 136.068 18.7951 135.983 20.8878C135.426 34.0997 129.797 46.7277 121.636 56.922C124.044 67.5558 116.48 76.7267 107.801 81.6533C106.607 82.3355 104.62 83.8574 103.55 82.3552C102.481 80.8529 104.935 73.5057 103.242 71.0523C101.825 71.9576 100.972 71.4787 99.5619 70.9736C96.9313 70.0289 94.4385 68.0871 91.9589 66.8079C90.5222 67.3065 87.0454 70.9407 85.5628 69.9305C83.9556 67.4836 85.9564 64.8924 86.514 62.4586C84.487 59.8412 80.6166 57.6961 80.669 54.0553C78.8126 54.4029 76.9495 54.4095 75.1062 54.8687C72.3313 55.5641 68.7954 58.4045 69.9631 52.6711C71.7933 43.6642 78.7994 34.4998 88.7838 34.6966C96.8461 22.2916 111.252 12.2417 125.763 9.04037C127.324 8.69269 133.589 7.37413 134.579 8.35813V8.36469ZM114.965 16.8468C114.256 16.427 111.272 18.126 110.438 18.5786C99.4176 24.5811 86.0351 39.6888 84.9659 52.6252C84.7231 55.5378 86.5468 56.43 88.4033 58.2865C88.9871 58.3914 92.2475 53.4386 93.0937 52.5792C95.0355 50.5981 101.943 45.5535 102.291 51.2672C102.573 55.9117 97.6989 60.1233 95.3832 63.6985L101.819 67.0638C115.175 60.5759 125.015 48.9778 129.745 34.9393C130.184 33.6405 131.214 30.8131 131.319 29.6126C131.358 29.16 131.398 29.0812 131.057 28.727C130.591 28.235 126.051 26.1751 124.857 25.4273C121.643 23.4134 118.291 20.6647 115.654 17.9423C115.358 17.6406 115.017 16.8862 114.958 16.8468H114.965Z"
          fill="white"
        />
        <path
          d="M79.6848 70.7377L76.4114 82.1784C80.2096 81.0369 83.5027 78.9312 86.4351 76.3203L88.6786 78.8984C90.8172 76.6089 91.9586 73.7225 93.0869 70.8623C96.9705 70.8689 96.1111 73.998 95.6257 76.6876C94.5629 82.6113 90.9484 88.148 87.5306 92.9565C87.0911 92.8974 86.9599 92.5104 86.8943 92.1299C86.5072 89.7618 86.5794 87.0328 86.5532 84.6253L85.9037 84.4613C85.0443 86.1209 82.9714 87.7872 81.4692 89.027C63.1011 104.207 35.8048 108.235 13.2646 101.13C13.1858 100.56 14.0058 100.822 14.406 100.809C17.9812 100.678 21.6483 101.006 25.2038 100.809C40.9151 99.9232 55.5111 93.4419 65.9481 81.6929C66.7878 80.7483 72.8821 73.0468 72.1539 72.3711L66.9256 71.5511C69.051 69.0846 71.1961 66.3097 73.8201 64.3876C76.1752 62.6623 81.1477 59.6644 83.4568 62.5639C83.8373 63.4757 77.0542 67.707 76.7722 69.3207C76.641 70.1998 79.0419 70.7311 79.6848 70.7377Z"
          fill="white"
        />
        <path
          d="M64.9645 29.6784C65.6467 29.6194 66.2109 30.2032 66.1781 30.892L65.6139 42.1294C65.2597 46.1244 63.0883 43.4479 61.6451 42.031C61.1531 41.5521 60.3594 41.6111 59.9395 42.149C49.4435 55.5708 36.1988 67.3461 20.3629 74.057C17.7585 75.1591 9.28956 78.4785 6.91483 78.2292C6.72459 78.2095 6.49497 78.1636 6.28505 78.0914C6.02265 77.9996 5.8193 77.7962 5.67498 77.5535C3.63481 74.2144 10.2473 72.2596 13.6782 70.9738C30.7736 64.5646 45.0089 52.796 55.8395 38.2983C56.2003 37.8194 56.1347 37.1372 55.682 36.7436C54.9276 36.081 53.7796 35.2676 53.0711 34.4869C52.4807 33.8441 52.8415 32.801 53.6878 32.6108C57.2827 31.7973 61.6516 29.9736 64.9513 29.6784C64.9513 29.6784 64.9579 29.6784 64.9645 29.6784Z"
          fill="white"
        />
        <path
          d="M51.2212 88.3904V57.1646C51.2212 57.1056 51.7263 56.5874 51.8838 56.5152C52.5004 56.2266 58.8767 56.2003 59.9067 56.3315C60.4643 56.4037 60.8972 56.4562 61.199 57.0006L61.3827 79.0882C61.4483 79.613 61.3039 79.9542 61.0547 80.3937C60.7595 80.9054 57.7747 83.7393 57.1121 84.3035C55.3278 85.8385 53.2351 87.1833 51.2212 88.3838V88.3904Z"
          fill="white"
        />
        <path
          d="M36.1724 95.5802V69.9174C36.1724 69.7862 36.5529 69.1827 36.7234 69.0777C37.3729 68.671 44.1428 68.5857 45.1662 68.7825C46.4257 69.0252 46.5634 70.5012 46.6618 71.5443C47.2129 77.573 46.2092 84.4151 46.6618 90.5356C46.6422 91.7688 44.5626 92.4183 43.4868 92.9234C41.1646 94.0124 38.6258 94.8455 36.1724 95.5868V95.5802Z"
          fill="white"
        />
        <path
          d="M21.1167 78.4195C21.1429 78.3277 21.9432 77.5142 22.1072 77.4421C22.6976 77.1731 29.238 77.1075 30.1105 77.2781C30.6812 77.3896 30.9633 77.6586 31.2388 78.144L31.6127 96.6892C31.4159 97.4173 22.4812 98.0209 21.1232 98.198V78.4195H21.1167Z"
          fill="white"
        />
        <path
          d="M129.745 88.3902C129.85 88.9347 129.627 89.0725 129.181 89.2889C128.138 89.7875 126.845 89.8269 125.599 90.6141C123.152 92.1491 122.581 94.5894 121.899 97.2135C120.961 96.5115 121.033 94.9765 120.548 93.8219C119.813 92.0704 118.521 90.8305 116.789 90.063C115.601 89.5382 114.421 89.5448 113.404 88.8757C115.49 87.7342 117.3 87.8917 119.085 86.0614C120.771 84.3361 120.777 82.5846 121.735 80.5444C122.142 80.5444 122.647 83.3128 122.916 83.936C124.149 86.7961 126.878 87.8261 129.751 88.3902H129.745Z"
          fill="white"
        />
        <path
          d="M110.359 26.3519C123.407 24.6266 125.592 45.153 112.236 46.2091C99.8503 47.1866 97.7118 28.0247 110.359 26.3519ZM115.89 31.9411C111.173 26.9095 102.028 33.5942 106.843 39.8393C112.098 46.6552 121.472 37.9041 115.89 31.9411Z"
          fill="white"
        />
        <path
          d="M56.5547 128.029H52.9101C52.8088 129.042 52.7582 130.105 52.7582 131.32C52.7076 132.585 52.7076 133.699 52.7076 134.61C52.7076 135.622 52.8088 136.28 53.1125 136.584C53.3656 136.888 53.9731 137.04 54.9855 137.04H56.5547C57.2127 137.04 57.7189 137.04 58.1239 136.989C58.5794 136.938 58.9338 136.989 59.1363 137.09C59.2881 137.293 59.3894 137.596 59.44 138.103L59.7437 143.772C59.7437 144.278 59.6931 144.633 59.4906 144.734C59.2375 144.936 58.8832 145.037 58.4276 145.037C57.2127 145.139 56.2509 145.139 55.441 145.139C54.5805 145.189 53.6694 145.189 52.7076 145.189C48.6074 145.189 45.9246 143.823 44.6591 141.039L44.8109 143.772C44.8109 144.278 44.7603 144.633 44.5578 144.734C44.3048 144.936 43.9504 145.037 43.4948 145.037C42.28 145.139 41.3182 145.139 40.6095 145.139C39.8502 145.189 38.9897 145.189 38.0279 145.189C34.7883 145.189 32.4092 144.329 30.9412 142.557C29.4226 140.836 28.7646 138.103 28.9671 134.256C28.9671 133.344 29.0177 132.281 29.1189 131.168C29.1189 130.054 29.1695 128.94 29.2708 127.776C29.2708 126.663 29.3214 125.549 29.4226 124.435C29.4732 123.322 29.5745 122.309 29.6757 121.398C29.7263 120.892 29.8276 120.588 30.0301 120.386C30.1819 120.234 30.4856 120.133 30.9918 120.133H41.6725C42.1281 120.133 42.4825 120.234 42.6849 120.386C42.8874 120.588 42.9886 120.892 42.9886 121.398V126.764C42.9886 127.27 42.8874 127.624 42.6849 127.776C42.4825 127.979 42.1281 128.029 41.6725 128.029H38.2304C38.1292 129.042 38.0786 130.105 38.0786 131.32C38.0279 132.585 38.0279 133.699 38.0279 134.61C38.0279 135.622 38.1292 136.28 38.4329 136.584C38.686 136.888 39.2934 137.04 40.3058 137.04H41.7738C42.3306 137.04 42.7862 137.04 43.1911 136.989H43.6973C43.5961 136.23 43.5455 135.319 43.6467 134.256C43.6467 133.344 43.6973 132.281 43.7986 131.168C43.7986 130.054 43.8492 128.94 43.9504 127.776C43.9504 126.663 44.001 125.549 44.1023 124.435C44.1529 123.322 44.2541 122.309 44.3554 121.398C44.406 120.892 44.5072 120.588 44.7097 120.386C44.8616 120.234 45.1653 120.133 45.6715 120.133H57.3646C57.8202 120.133 58.1745 120.234 58.377 120.386C58.5794 120.588 58.6807 120.892 58.6807 121.398V126.005H62.6796V121.398C62.6796 120.892 62.7809 120.588 62.9833 120.386C63.1858 120.234 63.4895 120.133 63.9957 120.133H71.0825C71.538 120.133 71.8924 120.234 72.0948 120.386C72.2973 120.588 72.3986 120.892 72.3986 121.398V144.886C72.3986 145.392 72.2973 145.746 72.0948 145.898C71.8924 146.1 71.538 146.151 71.0825 146.151H63.9957C63.4895 146.151 63.1858 146.1 62.9833 145.898C62.7809 145.746 62.6796 145.392 62.6796 144.886V134.407H57.8708C57.3646 134.407 57.0609 134.357 56.8584 134.154C56.6559 134.002 56.5547 133.648 56.5547 133.142V128.029ZM32.4598 149.745C32.4598 149.239 32.561 148.935 32.7635 148.733C32.966 148.581 33.2697 148.48 33.7759 148.48H71.0825C71.538 148.48 71.8924 148.581 72.0948 148.733C72.2973 148.935 72.3986 149.239 72.3986 149.745V166.956C72.3986 167.462 72.2973 167.766 72.0948 167.968C71.8924 168.12 71.538 168.221 71.0825 168.221H63.9957C63.4895 168.221 63.1858 168.12 62.9833 167.968C62.7809 167.766 62.6796 167.462 62.6796 166.956V156.882H33.7759C33.2697 156.882 32.966 156.832 32.7635 156.629C32.561 156.477 32.4598 156.123 32.4598 155.617V149.745ZM98.4676 169.841C95.5317 169.841 93.0007 169.537 90.9759 168.98C88.8499 168.373 87.1794 167.614 85.914 166.601C84.5978 165.589 83.6361 164.425 83.0793 163.109C82.4718 161.742 82.1681 160.325 82.1681 158.806C82.1681 157.287 82.4718 155.87 83.0793 154.503C83.6867 153.187 84.6485 152.023 85.9646 151.011C87.2807 150.049 88.9511 149.29 91.0265 148.682C93.0513 148.125 95.5317 147.822 98.4676 147.822C101.353 147.822 103.833 148.125 105.909 148.682C107.933 149.29 109.654 150.049 110.971 151.011C112.287 152.023 113.248 153.187 113.856 154.503C114.463 155.87 114.767 157.287 114.767 158.806C114.767 160.325 114.463 161.742 113.907 163.109C113.299 164.425 112.337 165.589 111.072 166.601C109.756 167.614 108.035 168.373 106.01 168.98C103.884 169.537 101.404 169.841 98.4676 169.841ZM90.5203 120.133C90.9759 120.133 91.3302 120.234 91.5327 120.386C91.7352 120.588 91.8364 120.892 91.8364 121.398V128.536C91.8364 129.548 91.9377 130.459 92.1908 131.37C92.3932 132.332 92.8488 133.193 93.5069 133.952C94.1143 134.762 94.9748 135.47 96.0885 136.078C97.1515 136.736 98.5182 137.242 100.239 137.546C100.341 137.596 100.543 137.647 100.745 137.647C100.897 137.698 101.049 137.748 101.252 137.85C101.404 138.001 101.555 138.153 101.707 138.356C101.808 138.609 101.859 138.913 101.859 139.317V144.936C101.859 145.544 101.707 145.898 101.404 145.999C101.049 146.151 100.745 146.202 100.543 146.151C99.3281 146.05 98.1639 145.898 96.949 145.594C95.6835 145.392 94.4686 145.037 93.3044 144.531C92.0895 144.126 90.9759 143.519 89.9129 142.81C88.7993 142.102 87.8375 141.292 87.0276 140.279C86.1164 141.292 85.1547 142.102 84.1423 142.81C83.0286 143.519 81.915 144.126 80.7508 144.531C79.5359 145.037 78.3717 145.392 77.1568 145.594C75.8913 145.898 74.6764 146.05 73.5122 146.151C73.2591 146.202 73.006 146.151 72.7023 145.999C72.3479 145.898 72.1961 145.544 72.1961 144.936V139.317C72.1961 138.913 72.2467 138.609 72.3986 138.356C72.4998 138.153 72.601 138.001 72.8035 137.85C72.9554 137.748 73.1578 137.698 73.3603 137.647C73.5122 137.647 73.664 137.596 73.8159 137.546C75.4863 137.242 76.8531 136.736 77.9667 136.078C79.0297 135.47 79.8902 134.762 80.5483 133.952C81.1557 133.193 81.6113 132.332 81.8644 131.37C82.0669 130.459 82.2187 129.548 82.2187 128.536V121.398C82.2187 120.892 82.32 120.588 82.5224 120.386C82.7249 120.234 83.0286 120.133 83.5348 120.133H90.5203ZM121.753 135.167C121.753 135.673 121.651 136.027 121.449 136.179C121.246 136.382 120.892 136.432 120.436 136.432H115.779V145.392C115.779 145.898 115.678 146.252 115.476 146.404C115.273 146.607 114.919 146.657 114.463 146.657H107.377C106.87 146.657 106.567 146.607 106.364 146.404C106.162 146.252 106.061 145.898 106.061 145.392V121.398C106.061 120.892 106.162 120.588 106.364 120.386C106.567 120.234 106.87 120.133 107.377 120.133H114.463C114.919 120.133 115.273 120.234 115.476 120.386C115.678 120.588 115.779 120.892 115.779 121.398V128.029H120.436C120.892 128.029 121.246 128.131 121.449 128.282C121.651 128.485 121.753 128.789 121.753 129.295V135.167ZM98.4676 161.894C99.3281 161.894 100.189 161.843 100.999 161.742C101.808 161.641 102.517 161.438 103.175 161.236C103.783 160.983 104.238 160.679 104.643 160.274C104.997 159.869 105.2 159.363 105.2 158.755C105.2 158.148 104.997 157.642 104.643 157.237C104.238 156.882 103.783 156.579 103.175 156.275C102.517 156.073 101.808 155.87 100.999 155.769C100.189 155.668 99.3281 155.617 98.4676 155.617C97.5564 155.617 96.7465 155.668 95.9366 155.769C95.1267 155.87 94.418 156.073 93.8106 156.275C93.1525 156.579 92.6463 156.882 92.292 157.237C91.8871 157.642 91.7352 158.148 91.7352 158.755C91.7352 159.363 91.8871 159.869 92.292 160.274C92.6463 160.679 93.1525 160.983 93.8106 161.236C94.418 161.438 95.1267 161.641 95.9366 161.742C96.7465 161.843 97.5564 161.894 98.4676 161.894Z"
          fill="white"
        />
      </svg>
    </div>,
    getPortalContainer()
  );
}
